<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>MiniCheckout</title>
    <link rel="stylesheet" media="screen" type="text/css" href="/static/bootstrap/css/bootstrap.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="/static/jquery-ui/jquery-ui.js"></script>
    <script type="text/javascript" src="/static/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/js/pingpp_pay.js" type="text/javascript"></script>
</head>
<body>
<form action="/tms-api/pingpp/auth_wx_pub" method="POST">
   <div class="form-group">
      <label for="name">订单号：</label>
        <input type="text" class="form-control" name="order_no" type="text" placeholder="订单号" value="D150624000002">
        <input type="hidden" name="channel" value="wx_pub">
       <!-- alipay_wap，支付宝网页支付 -->
       <!-- upacp_wap, 银联全渠道手机网页支付（2015 年 1 月 1 日后的银联新商户使用 -->
   </div>
   <div class="ch">
        <button class="btn btn-default btn-block btn-lg" onclick="wap_pay('alipay_wap')">支付宝WAP</button>
        <button class="btn btn-default btn-block btn-lg" type="submit">微信公众号</button>
      <!--   <span class="up" onclick="app_pay('wx')">微 信</span>
        <span class="up" onclick="app_pay('alipay')">支付宝</span>
        <span class="up" onclick="app_pay('upmp')">银联(upmp)</span>
        <span class="up" onclick="app_pay('upacp')">银联(upacp)</span>
        <span class="up" onclick="app_pay('bfb')">百度钱包</span>
        <span class="up" onclick="wap_pay('upmp_wap')">银联WAP(upmp)</span>
        <span class="up" onclick="wap_pay('upacp_wap')">银联WAP(upacp)</span>
        <span class="up" onclick="wap_pay('bfb_wap')">百付宝WAP</span> -->
    </div>
</form>
<!--<script>-->
    <!--function wap_pay(channel) {-->
        <!--var orderNo = document.getElementById('orderNo').value;-->
        <!--var pay_url = "/tms-api/pingpp/auth_wx_pub";-->
        <!---->
        <!--$.post(-->
            <!--pay_url, -->
            <!--{-->
                <!--channel: channel,-->
                <!--order_no: orderNo-->
            <!--},-->
            <!--function(data){-->
                <!--if(data && data.error) {-->
                    <!--alert(data.error);-->
                <!--}else{-->
                    <!--location = data.url;-->
<!--//                    return;-->
<!--//                    alert(JSON.stringify(data));-->
<!--//                    pingpp.createPayment(data, function(result, err) {-->
<!--//                        if('success' == result){-->
<!--//                            alert("支付成功！");-->
<!--//                        }else {-->
<!--//                            alert("支付失败："+err.msg+"|"+JSON.stringify(err.extra));-->
<!--//                            console.log(result);-->
<!--//                            console.log(err);-->
<!--//                        }-->
<!--//                    });-->
                <!--}-->
            <!--}-->
        <!--);-->
        <!--//var xhr = new XMLHttpRequest();-->
        <!--//xhr.open("POST", pay_url, true);-->
        <!--//xhr.setRequestHeader("Content-type", "application/json");-->
        <!--//xhr.send(JSON.stringify());-->
        <!--//-->
        <!--//xhr.onreadystatechange = function () {-->
        <!--//    if (xhr.readyState == 4 && xhr.status == 200) {-->
        <!--//        console.log(xhr.responseText);-->
        <!--//        pingpp.createPayment(xhr.responseText, function(result, err) {-->
        <!--//            console.log(result);-->
        <!--//            console.log(err);-->
        <!--//        });-->
        <!--//    }-->
        <!--//}-->
    <!--}-->

    <!--// app_pay 需要配合 example-webview 的 iOS 或者 Android 项目使用。-->
    <!--function app_pay(channel) {-->
        <!--var amount = document.getElementById('amount').value * 100;-->
        <!--if (typeof PINGPP_IOS_SDK !== 'undefined') {-->
            <!--PINGPP_IOS_SDK.callPay(channel, amount);-->
        <!--} else if (typeof PINGPP_ANDROID_SDK !== 'undefined') {-->
            <!--PINGPP_ANDROID_SDK.callPay(channel, amount);-->
        <!--}-->
    <!--}-->
<!--</script>-->
</body>
</html>