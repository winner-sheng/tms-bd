# -*- coding: utf-8 -*-
from __future__ import unicode_literals

from django.db import models, migrations
import django.db.models.deletion
import promote.models


class Migration(migrations.Migration):

    dependencies = [
        ('filemgmt', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='ComputationRule',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('name', models.CharField(max_length=30, verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0/\xe8\xae\xa1\xe8\xb4\xb9\xe8\xa7\x84\xe5\x88\x99\xe5\x90\x8d\xe7\xa7\xb0')),
                ('apply_to', models.PositiveSmallIntegerField(default=0, help_text=b'\xe5\xa6\x82\xe9\x9c\x80\xe9\x99\x90\xe5\x88\xb6\xe8\xa7\x84\xe5\x88\x99\xe9\x80\x82\xe7\x94\xa8\xe4\xba\x8e\xe7\x89\xb9\xe5\xae\x9a\xe9\x97\xa8\xe5\xba\x97\xe3\x80\x81\xe4\xbe\x9b\xe5\xba\x94\xe5\x95\x86\xe3\x80\x81\xe5\x95\x86\xe5\x93\x81\xef\xbc\x8c\xe8\xaf\xb7\xe5\x9c\xa8\xe9\x85\x8d\xe7\xbd\xae\xe4\xb8\xad\xe5\x88\x86\xe5\x88\xab\xe4\xbd\xbf\xe7\x94\xa8"stores"/"suppliers"/"products"\xe6\x95\xb0\xe7\xbb\x84\xe5\x8f\x82\xe6\x95\xb0\xe3\x80\x82\xe5\xa6\x82\xe6\x9e\x9c\xe8\xa7\x84\xe5\x88\x99\xe9\x80\x82\xe7\x94\xa8\xe4\xba\x8e\xe6\x89\x80\xe6\x9c\x89\xe7\x89\xb9\xe5\xae\x9a\xe5\xaf\xb9\xe8\xb1\xa1\xef\xbc\x8c\xe5\xa6\x82\xe4\xbe\x9b\xe5\xba\x94\xe5\x95\x86\xef\xbc\x8c\xe5\x8f\xaf\xe5\xb0\x86suppliers\xe8\xae\xbe\xe7\xbd\xae\xe4\xb8\xba["all"]\xe3\x80\x82\xe6\x9a\x82\xe4\xb8\x8d\xe6\x94\xaf\xe6\x8c\x81\xe7\xbb\x84\xe5\x90\x88\xe6\x9d\xa1\xe4\xbb\xb6\xe3\x80\x82', verbose_name=b'\xe9\x80\x82\xe7\x94\xa8\xe4\xba\x8e\xef\xbc\x88\xe5\xba\x94\xe7\x94\xa8\xe5\x9c\xba\xe5\x90\x88\xef\xbc\x89', choices=[(0, '\u666e\u901a\u5168\u5c40\u8ba1\u8d39/\u4f18\u60e0\u89c4\u5219'), (30, '\u7279\u5b9a\u95e8\u5e97\u4f18\u60e0'), (40, '\u7279\u5b9a\u4f9b\u5e94\u5546\u4f18\u60e0'), (50, '\u7279\u5b9a\u5546\u54c1\u4f18\u60e0'), (60, '\u7279\u5b9a\u7528\u6237\u4f18\u60e0'), (90, '\u90ae\u8d39\u8ba1\u7b97')])),
                ('rule', models.CharField(default=b'SimpleReductionRule', max_length=50, verbose_name=b'\xe8\xae\xa1\xe7\xae\x97\xe8\xa7\x84\xe5\x88\x99', choices=[(b'SimpleReductionRule', '\u6bcf\u7b14\u8ba2\u5355\u7acb\u51cfX\u5143'), (b'PercentReductionRule', 'XX\u6298\u4f18\u60e0'), (b'FreeShipPerAmountRule', '\u6839\u636e\u6d88\u8d39\u91d1\u989d\u8ba1\u7b97\u8fd0\u8d39')])),
                ('setting', models.TextField(default=b'{}', help_text=b'Json\xe6\xa0\xbc\xe5\xbc\x8f\xef\xbc\x8c\xe5\xbd\xa2\xe5\xa6\x82{"reduction":"10", "comment":"\xe4\xbc\x98\xe6\x83\xa0\xe8\xaf\xb4\xe6\x98\x8e"}\xef\xbc\x8c\xe5\x8c\x85\xe5\x90\xab\xe5\xaf\xb9\xe5\xba\x94\xe7\x9a\x84\xe8\xa7\x84\xe5\x88\x99\xe9\x9c\x80\xe8\xa6\x81\xe4\xbd\xbf\xe7\x94\xa8\xe7\x9a\x84\xe9\x85\x8d\xe7\xbd\xae\xe4\xbf\xa1\xe6\x81\xaf(\xe5\xa6\x82reduction, comment\xe7\xad\x89)', max_length=1000, verbose_name=b'\xe9\x85\x8d\xe7\xbd\xae')),
                ('effective_date', models.DateTimeField(help_text=b'\xe5\x90\x8c\xe7\xad\x89\xe4\xbc\x98\xe5\x85\x88\xe7\xba\xa7\xe6\x97\xb6\xef\xbc\x8c\xe7\x94\x9f\xe6\x95\x88\xe6\x97\xb6\xe9\x97\xb4\xe6\x97\xa9\xe7\x9a\x84\xe5\x85\x88\xe5\xba\x94\xe7\x94\xa8', null=True, verbose_name=b'\xe7\x94\x9f\xe6\x95\x88\xe6\x97\xb6\xe9\x97\xb4', blank=True)),
                ('expire_date', models.DateTimeField(null=True, verbose_name=b'\xe5\xa4\xb1\xe6\x95\x88\xe6\x97\xb6\xe9\x97\xb4', blank=True)),
                ('allow_overlap', models.BooleanField(default=False, help_text=b'\xe5\x8f\xaf\xe5\x8f\xa0\xe5\x8a\xa0\xe8\xa7\x84\xe5\x88\x99\xe6\x98\xaf\xe6\x8c\x87\xe8\xaf\xa5\xe8\xa7\x84\xe5\x88\x99\xe7\x94\x9f\xe6\x95\x88\xe5\x90\x8e\xef\xbc\x8c\xe5\x85\xb6\xe5\xae\x83\xe5\x90\x8e\xe7\xbb\xad\xe8\xae\xa1\xe7\xae\x97\xe7\x9a\x84\xe8\xa7\x84\xe5\x88\x99\xe4\xbb\x8d\xe5\x8f\xaf\xe9\x80\x82\xe7\x94\xa8\xe3\x80\x82\xe5\xa6\x82\xe6\x9e\x9c\xe4\xb8\x8d\xe5\x8f\xaf\xe5\x8f\xa0\xe5\x8a\xa0\xef\xbc\x8c\xe4\xb8\x80\xe4\xb8\xaa\xe8\xa7\x84\xe5\x88\x99\xe7\x94\x9f\xe6\x95\x88\xe5\x90\x8e\xe5\x90\x8e\xe7\xbb\xad\xe6\x89\x80\xe6\x9c\x89\xe8\xa7\x84\xe5\x88\x99\xe9\x83\xbd\xe5\xb0\x86\xe5\xa4\xb1\xe6\x95\x88\xe3\x80\x82', verbose_name=b'\xe5\x8f\xaf\xe5\x8f\xa0\xe5\x8a\xa0')),
                ('priority', models.PositiveIntegerField(default=0, help_text=b'\xe4\xbc\x98\xe5\x85\x88\xe7\xba\xa7\xe9\xab\x98\xe7\x9a\x84\xe5\x85\x88\xe5\xba\x94\xe7\x94\xa8\xef\xbc\x8c\xe5\x90\x8c\xe6\xa0\xb7\xe4\xbc\x98\xe5\x85\x88\xe7\xba\xa7\xef\xbc\x8c\xe7\x94\x9f\xe6\x95\x88\xe6\x97\xa9\xe7\x9a\x84\xe5\x85\x88\xe5\xba\x94\xe7\x94\xa8', verbose_name=b'\xe4\xbc\x98\xe5\x85\x88\xe7\xba\xa7', db_index=True)),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name=b'\xe5\x88\x9b\xe5\xbb\xba\xe6\x97\xb6\xe9\x97\xb4', null=True)),
                ('create_by', models.IntegerField(verbose_name=b'\xe5\x88\x9b\xe5\xbb\xba\xe4\xba\xba', null=True, editable=False, blank=True)),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name=b'\xe6\x9b\xb4\xe6\x96\xb0\xe6\x97\xb6\xe9\x97\xb4', null=True)),
                ('update_by', models.IntegerField(verbose_name=b'\xe6\x9b\xb4\xe6\x96\xb0\xe4\xba\xba', null=True, editable=False, blank=True)),
            ],
            options={
                'ordering': ['-priority', '-effective_date'],
                'verbose_name': '\u4f18\u60e0/\u8ba1\u8d39\u8ba1\u7b97\u89c4\u5219',
                'verbose_name_plural': '\u4f18\u60e0/\u8ba1\u8d39\u8ba1\u7b97\u89c4\u5219',
            },
        ),
        migrations.CreateModel(
            name='CouponRule',
            fields=[
                # ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('code', models.CharField(default=promote.models._activity_code, primary_key=True, serialize=False, max_length=12, help_text=b'\xe7\x94\xa8\xe4\xba\x8e\xe5\xbc\x95\xe7\x94\xa8', verbose_name=b'\xe6\xb4\xbb\xe5\x8a\xa8\xe7\xbc\x96\xe7\xa0\x81')),
                ('name', models.CharField(help_text=b'\xe6\xaf\x94\xe5\xa6\x82\xef\xbc\x9a\xe6\xbb\xa1100\xe5\x87\x8f10\xe5\x85\x83', max_length=50, verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe6\xb4\xbb\xe5\x8a\xa8\xe5\x90\x8d\xe7\xa7\xb0')),
                ('description', models.CharField(max_length=255, verbose_name=b'\xe8\xa7\x84\xe5\x88\x99\xe8\xaf\xb4\xe6\x98\x8e')),
                ('format', models.CharField(default=b'BD{year}{month}{day}{char-6}', help_text=b'\xe5\xa6\x82"abcd-{digit-3}", \xe7\x94\x9f\xe6\x88\x90\xe7\xb1\xbb\xe4\xbc\xbc"abcd-666"\xe7\x9a\x84\xe4\xbc\x98\xe6\x83\xa0\xe7\xa0\x81\xef\xbc\x8c\xe5\x8f\xaf\xe7\x94\xa8\xe5\xa6\x82\xe4\xb8\x8b\xe5\x87\xa0\xe7\xa7\x8d\xe5\x8f\x98\xe9\x87\x8f\xef\xbc\x9a{year}{month}{day}{hour}{minute}{second}{char-X}{digit-X}{letter-X}",\xe5\x88\x86\xe5\x88\xab\xe8\xa1\xa8\xe7\xa4\xba\xe7\x94\xa8\xe5\xb9\xb4\xe3\x80\x81\xe6\x9c\x88\xe3\x80\x81\xe6\x97\xa5\xe3\x80\x81\xe6\x97\xb6\xe3\x80\x81\xe5\x88\x86\xe3\x80\x81\xe7\xa7\x92\xe3\x80\x81\xe5\xad\x97\xe7\xac\xa6\xef\xbc\x88\xe5\x90\xab\xe6\x95\xb0\xe5\xad\x97\xe5\x92\x8c\xe5\xad\x97\xe6\xaf\x8d\xef\xbc\x89\xe3\x80\x81\xe6\x95\xb0\xe5\xad\x97\xe3\x80\x81\xe5\xad\x97\xe6\xaf\x8d\xe3\x80\x82X\xe8\xa1\xa8\xe7\xa4\xba\xe5\x8c\x85\xe5\x90\xab\xe5\x87\xa0\xe4\xb8\xaa\xe5\xad\x97\xe6\xaf\x8d\xe6\x88\x96\xe6\x95\xb0\xe5\xad\x97', max_length=128, verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe5\x88\xb8\xe7\xbc\x96\xe7\xa0\x81\xe6\xa0\xbc\xe5\xbc\x8f')),
                ('threshold', models.PositiveIntegerField(default=0, null=True, verbose_name=b'\xe8\xae\xa2\xe5\x8d\x95\xe6\x9c\x80\xe5\xb0\x8f\xe8\xb4\xad\xe7\x89\xa9\xe9\x87\x91\xe9\xa2\x9d\xe9\x99\x90\xe5\x88\xb6(\xe5\x85\x83)', blank=True)),
                ('money', models.PositiveIntegerField(default=0, null=True, verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe9\x87\x91\xe9\xa2\x9d(\xe5\x85\x83)', blank=True)),
                ('repeatable', models.BooleanField(default=False, help_text=b'\xe5\x90\x8c\xe4\xb8\x80\xe8\xae\xa2\xe5\x8d\x95\xe6\x98\xaf\xe5\x90\xa6\xe5\x85\x81\xe8\xae\xb8\xe4\xbd\xbf\xe7\x94\xa8\xe5\xa4\x9a\xe5\xbc\xa0\xe4\xbc\x98\xe6\x83\xa0', verbose_name=b'\xe5\x85\x81\xe8\xae\xb8\xe5\xa4\x9a\xe5\xbc\xa0')),
                ('allow_addon', models.BooleanField(default=False, help_text=b'\xe6\x98\xaf\xe5\x90\xa6\xe5\x85\x81\xe8\xae\xb8\xe4\xb8\x8e\xe5\x85\xb6\xe4\xbb\x96\xe8\xb4\xad\xe7\x89\xa9\xe4\xbc\x98\xe6\x83\xa0\xe8\xa7\x84\xe5\x88\x99\xe5\x8f\xa0\xe5\x8a\xa0\xe4\xbd\xbf\xe7\x94\xa8', verbose_name=b'\xe5\x85\x81\xe8\xae\xb8\xe5\x8f\xa0\xe5\x8a\xa0')),
                ('pub_number', models.PositiveIntegerField(default=0, null=True, verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe5\x88\xb8\xe6\x95\xb0\xe9\x87\x8f', blank=True)),
                ('start_time', models.DateTimeField(null=True, verbose_name=b'\xe6\x9c\x89\xe6\x95\x88\xe6\x9c\x9f\xe5\xbc\x80\xe5\xa7\x8b\xe6\x97\xb6\xe9\x97\xb4', blank=True)),
                ('end_time', models.DateTimeField(null=True, verbose_name=b'\xe6\x9c\x89\xe6\x95\x88\xe6\x9c\x9f\xe7\xbb\x93\xe6\x9d\x9f\xe6\x97\xb6\xe9\x97\xb4', blank=True)),
                ('is_active', models.BooleanField(default=True, verbose_name=b'\xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89\xe6\x95\x88')),
                ('create_time', models.DateTimeField(auto_now=True, verbose_name=b'\xe5\x88\x9b\xe5\xbb\xba\xe6\x97\xb6\xe9\x97\xb4', null=True)),
                ('create_by', models.IntegerField(verbose_name=b'\xe5\x88\x9b\xe5\xbb\xba\xe4\xba\xba', null=True, editable=False, blank=True)),
                ('coupon_image', models.ForeignKey(related_name='coupon_image+', verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe5\x88\xb8\xe5\x9b\xbe\xe7\x89\x87', blank=True, to='filemgmt.BaseImage', null=True)),
            ],
            options={
                'verbose_name': '\u4f18\u60e0\u6d3b\u52a8',
                'verbose_name_plural': '\u4f18\u60e0\u6d3b\u52a8',
            },
        ),
        migrations.CreateModel(
            name='CouponTicket',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('code', models.CharField(unique=True, max_length=14, verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe5\x88\xb8\xe5\x8f\xb7\xe7\xa0\x81')),
                ('get_time', models.DateTimeField(verbose_name=b'\xe9\xa2\x86\xe5\x8f\x96\xe6\x97\xb6\xe9\x97\xb4', null=True, editable=False, blank=True)),
                ('mobile', models.CharField(verbose_name=b'\xe9\xa2\x86\xe5\x8f\x96\xe7\x94\xa8\xe6\x88\xb7', max_length=20, null=True, editable=False, blank=True)),
                ('consume_time', models.DateTimeField(verbose_name=b'\xe6\xb6\x88\xe8\xb4\xb9\xe6\x97\xb6\xe9\x97\xb4', null=True, editable=False, blank=True)),
                ('order_no', models.CharField(verbose_name=b'\xe6\xb6\x88\xe8\xb4\xb9\xe8\xae\xa2\xe5\x8d\x95\xe5\x8f\xb7', max_length=20, null=True, editable=False, blank=True)),
                ('status', models.IntegerField(default=0, verbose_name=b'\xe7\x8a\xb6\xe6\x80\x81', choices=[(0, b'\xe6\x9c\xaa\xe9\xa2\x86\xe5\x8f\x96'), (1, b'\xe5\xb7\xb2\xe9\xa2\x86\xe5\x8f\x96'), (2, b'\xe5\xb7\xb2\xe6\xb6\x88\xe8\xb4\xb9'), (3, b'\xe5\xb7\xb2\xe8\xbf\x87\xe6\x9c\x9f')])),
                # ('rule', models.ForeignKey(verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe6\xb4\xbb\xe5\x8a\xa8', to='promote.CouponRule')),
                ('rule', models.ForeignKey(related_name='tickets', on_delete=django.db.models.deletion.PROTECT, verbose_name=b'\xe4\xbc\x98\xe6\x83\xa0\xe6\xb4\xbb\xe5\x8a\xa8', to='promote.CouponRule')),
            ],
            options={
                'verbose_name': '\u4f18\u60e0\u6d3b\u52a8-\u4f18\u60e0\u5238',
                'verbose_name_plural': '\u4f18\u60e0\u6d3b\u52a8-\u4f18\u60e0\u5238',
            },
        ),
        migrations.CreateModel(
            name='RewardRecord',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('referrer_id', models.CharField(max_length=32, verbose_name=b'\xe6\x8e\xa8\xe5\xb9\xbf\xe7\x94\xa8\xe6\x88\xb7UID', db_index=True)),
                ('activity_code', models.CharField(help_text=b'\xe7\x94\xa8\xe4\xba\x8e\xe7\x89\xb9\xe5\xae\x9a\xe5\x9c\xba\xe6\x99\xaf\xe4\xb8\x8b\xe4\xba\xa7\xe7\x94\x9f\xe7\x9a\x84\xe8\xae\xa2\xe5\x8d\x95\xef\xbc\x8c\xe6\xaf\x94\xe5\xa6\x82\xe5\xaf\xbc\xe6\xb8\xb8\xe8\xa1\x8c\xe7\xa8\x8b\xe4\xb8\xad\xe4\xba\xa7\xe7\x94\x9f\xe7\x9a\x84\xe8\xae\xa2\xe5\x8d\x95\xef\xbc\x88\xe4\xbb\xa3\xe7\xa0\x81\xe4\xb8\xba\xe8\xa1\x8c\xe7\xa8\x8b\xe5\x8d\x95\xe5\x8f\xb7\xef\xbc\x89', max_length=32, null=True, verbose_name=b'\xe6\xb4\xbb\xe5\x8a\xa8\xe4\xbb\xa3\xe7\xa0\x81', blank=True)),
                ('order_no', models.CharField(max_length=20, serialize=False, verbose_name=b'\xe6\x8e\xa8\xe5\xb9\xbf\xe8\xae\xa2\xe5\x8d\x95\xe5\x8f\xb7')),
                ('reward', models.DecimalField(default=0, help_text=b'\xe4\xb8\xba\xe8\xae\xa2\xe5\x8d\x95\xe7\xbb\x93\xe7\xae\x97\xe5\xae\x8c\xe6\x88\x90\xe5\x89\x8d\xe5\x8f\xaf\xe9\xa2\x84\xe6\x9c\x9f\xe6\x94\xb6\xe7\x9b\x8a', verbose_name=b'\xe9\xa2\x84\xe6\x9c\x9f\xe6\x94\xb6\xe7\x9b\x8a', max_digits=10, decimal_places=2)),
                ('achieved', models.DecimalField(default=0, help_text=b'\xe4\xb8\xba\xe8\xae\xa2\xe5\x8d\x95\xe7\xbb\x93\xe7\xae\x97\xe5\xae\x8c\xe6\x88\x90\xe5\x90\x8e\xe5\xae\x9e\xe9\x99\x85\xe5\x88\xb0\xe8\xb4\xa6\xe9\x87\x91\xe9\xa2\x9d', verbose_name=b'\xe5\x88\xb0\xe8\xb4\xa6\xe6\x94\xb6\xe7\x9b\x8a', max_digits=10, decimal_places=2)),
                ('achieved_time', models.DateTimeField(null=True, verbose_name=b'\xe5\x88\xb0\xe8\xb4\xa6\xe6\x97\xb6\xe9\x97\xb4', blank=True)),
                ('account_no', models.CharField(max_length=32, null=True, verbose_name=b'\xe6\xb5\x81\xe6\xb0\xb4\xe5\x8f\xb7', blank=True)),
                ('status', models.PositiveSmallIntegerField(default=0, verbose_name=b'\xe6\x94\xb6\xe7\x9b\x8a\xe7\x8a\xb6\xe6\x80\x81', choices=[(0, b'\xe5\xbe\x85\xe7\xbb\x93\xe7\xae\x97'), (1, b'\xe5\xb7\xb2\xe7\xbb\x93\xe7\xae\x97'), (2, b'\xe5\xb7\xb2\xe5\x8f\x96\xe6\xb6\x88')])),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name=b'\xe5\x88\x9b\xe5\xbb\xba\xe6\x97\xb6\xe9\x97\xb4', null=True)),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name=b'\xe6\x9b\xb4\xe6\x96\xb0\xe6\x97\xb6\xe9\x97\xb4', null=True)),
            ],
            options={
                'ordering': ['create_time'],
                'verbose_name': '\u7528\u6237\u63a8\u5e7f\u6536\u76ca\u8bb0\u5f55',
                'verbose_name_plural': '\u7528\u6237\u63a8\u5e7f\u6536\u76ca\u8bb0\u5f55',
            },
        ),
        migrations.AlterUniqueTogether(
            name='rewardrecord',
            unique_together=set([('referrer_id', 'activity_code', 'order_no')]),
        ),
    ]
